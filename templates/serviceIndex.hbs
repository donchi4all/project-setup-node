import { Queries } from '../../../interfaces/queries';
import { {{capitalizeSingular service}}Dto } from './dtos/{{singular service}}.dto';
import {{singular service}}Repo from './repository/{{singular service}}.repository';

/**
 * Service layer for {{plural service}}
 * Handles business logic and communicates with the repository
 */
export default class {{capitalizeSingular service}}Service {

  /**
   * Fetch all {{plural service}} with optional query parameters
   * @param queries Optional pagination, search, or filter queries
   */
  static findAll = async (queries?: Queries) => {
    return await {{singular service}}Repo.getAll(queries);
  };

  /**
   * Fetch a single {{singular service}} by ID
   * @param id The UUID of the {{singular service}}
   */
  static findOne = async (id: string) => {
    return await {{singular service}}Repo.getOne(id);
  };

  /**
   * Create a new {{singular service}}
   * @param data DTO containing the data for the new {{singular service}}
   */
  static create = async (data: {{capitalizeSingular service}}Dto) => {
    return await {{singular service}}Repo.create(data);
  };

  /**
   * Update a single {{singular service}} by ID
   * @param data DTO containing the updated data
   * @param id The UUID of the {{singular service}} to update
   */
  static updateOne = async (data: {{capitalizeSingular service}}Dto, id: string) => {
    return await {{singular service}}Repo.updateOne(data, id);
  };

  /**
   * Bulk update multiple {{plural service}}
   * @param data DTO containing fields to update
   * @param ids Array of UUIDs of {{plural service}} to update
   */
  static updateMany = async (data: {{capitalizeSingular service}}Dto, ids: string[]) => {
    return await {{singular service}}Repo.updateMany(data, ids);
  };

  /**
   * Delete a single {{singular service}} by ID
   * @param id The UUID of the {{singular service}} to delete
   */
  static delete = async (id: string) => {
    return await {{singular service}}Repo.deleteOne(id);
  };

  /**
   * Bulk delete multiple {{plural service}}
   * @param ids Array of UUIDs of {{plural service}} to delete
   */
  static deleteMany = async (ids: string[]) => {
    return await {{singular service}}Repo.deleteMany(ids);
  };
}